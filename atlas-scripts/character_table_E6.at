<character_tables.at
<nilpotent_orbits.at
<character_table_C.at
<character_table_reps.at

set rd=simply_connected(E6)
set W_order=order_W(rd)
set class_size(WeylElt w)=W_order\w.centralizer_order

set orbits=rd.orbits
{from atlas web site, columns sorted by order}
set table_E6_atlas=
^[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,-1,1,1,-1,1,1,1,1,-1,-1,1,1,1,1,-1,1,-1,1,-1,-1,1,-1,-1,1],
[6,4,-2,2,0,-3,3,0,2,-2,2,0,1,1,1,1,-2,-2,-1,0,0,0,-1,1,-1],
[6,-4,-2,2,0,-3,3,0,2,2,-2,0,1,1,1,-1,-2,2,-1,0,0,0,1,-1,-1],
[10,0,-6,2,0,1,-2,4,2,0,0,-2,0,-3,0,0,0,0,2,0,0,1,0,0,-1],
[15,-5,7,3,-1,-3,0,3,-1,-3,1,1,0,1,-2,-2,1,1,0,-1,1,0,0,0,-1],
[15,-5,-1,-1,3,6,3,0,3,-1,-1,-1,0,2,-1,1,2,-2,-1,0,1,0,0,-1,0],
[15,5,7,3,1,-3,0,3,-1,3,-1,1,0,1,-2,2,1,-1,0,1,-1,0,0,0,-1],
[15,5,-1,-1,-3,6,3,0,3,1,1,-1,0,2,-1,-1,2,2,-1,0,-1,0,0,1,0],
[20,10,4,4,2,2,5,-1,0,2,2,0,0,-2,1,1,1,1,1,-1,0,-1,0,-1,0],
[20,-10,4,4,-2,2,5,-1,0,-2,-2,0,0,-2,1,-1,1,-1,1,1,0,-1,0,1,0],
[20,0,4,-4,0,-7,2,2,4,0,0,0,0,1,-2,0,-2,0,2,0,0,-1,0,0,1],
[24,4,8,0,4,6,0,3,0,0,0,0,-1,2,2,-2,-1,1,0,1,0,0,-1,0,0],
[24,-4,8,0,-4,6,0,3,0,0,0,0,-1,2,2,2,-1,-1,0,-1,0,0,1,0,0],
[30,-10,-10,2,2,3,3,3,-2,4,0,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,1,1],
[30,10,-10,2,-2,3,3,3,-2,-4,0,0,0,-1,-1,1,-1,1,-1,1,0,0,0,-1,1],
[60,10,-4,4,2,6,-3,-3,0,-2,-2,0,0,2,-1,1,-1,1,1,-1,0,0,0,1,0],
[60,-10,-4,4,-2,6,-3,-3,0,2,2,0,0,2,-1,-1,-1,-1,1,1,0,0,0,-1,0],
[60,0,12,4,0,-3,-6,0,4,0,0,0,0,-3,0,0,0,0,-2,0,0,0,0,0,1],
[64,16,0,0,0,-8,4,-2,0,0,0,0,-1,0,0,-2,0,-2,0,0,0,1,1,0,0],
[64,-16,0,0,0,-8,4,-2,0,0,0,0,-1,0,0,2,0,2,0,0,0,1,-1,0,0],
[80,0,-16,0,0,-10,-4,2,0,0,0,0,0,2,2,0,2,0,0,0,0,-1,0,0,0],
[81,9,9,-3,-3,0,0,0,-3,3,-1,-1,1,0,0,0,0,0,0,0,1,0,-1,0,0],
[81,-9,9,-3,3,0,0,0,-3,-3,1,-1,1,0,0,0,0,0,0,0,-1,0,1,0,0],
[90,0,-6,-6,0,9,0,0,2,0,0,2,0,-3,0,0,0,0,0,0,0,0,0,0,-1]]

set wct=W_class_table(rd)
set wct_classes=wct.class_representatives()
set Perm=[0,1,3,6,14,10,4, 12,18,11,2,9,15,7,8,19,20,22,16,23,24,21,13,17,5]
set iPerm=permutation_inverse(Perm)
set iPerm=[0,1,10,2,6,24,3,13,14,11,5,9,7,22,4,12,18,23,8,15,16,21,17,19,20]
set iPerm=[0,1,10,2,6,24,3,13,14,11,5,9,7,22,4,12,18,23,8,19,16,21,17,15,20]
set Perm=permutation_inverse(iPerm)
set Perm=[0,1,3,6,14,10,4,12,18,11,2,8,15,7,9,23,20,22,16,19,24,21,13,17,5]
set Perm=[0,1,3,6,15,10,4,12,18,11,2,8,14,7,9,23,20,22,17,19,24,21,13,16,5]
{set wct_classes_sorted=for i:#wct_classes do wct_classes[iPerm[i]] od}

{to match WeylClassTable, different sorting of columns,
found by hand calculation}
set table_E6=[
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,-1,1,1,-1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,-1,-1,1,1,1,1,1],
[6,4,2,3,1,2,0,1,-1,0,-2,2,1,0,-2,1,0,-1,-2,0,-1,0,1,-2,-3],
[6,-4,2,3,-1,-2,0,1,-1,0,-2,2,1,0,2,-1,0,1,2,0,-1,0,1,-2,-3],
[10,0,2,-2,0,0,0,0,2,-2,-6,2,0,4,0,0,0,0,0,0,-1,1,-3,0,1],
[15,-5,3,0,-2,1,-1,0,0,1,7,-1,-2,3,-3,0,1,0,1,-1,-1,0,1,1,-3],
[15,-5,-1,3,1,-1,3,0,-1,-1,-1,3,-1,0,-1,-1,1,0,-2,0,0,0,2,2,6],
[15,5,3,0,2,-1,1,0,0,1,7,-1,-2,3,3,0,-1,0,-1,1,-1,0,1,1,-3],
[15,5,-1,3,-1,1,-3,0,-1,-1,-1,3,-1,0,1,1,-1,0,2,0,0,0,2,2,6],
[20,10,4,5,1,2,2,0,1,0,4,0,1,-1,2,-1,0,0,1,-1,0,-1,-2,1,2],
[20,-10,4,5,-1,-2,-2,0,1,0,4,0,1,-1,-2,1,0,0,-1,1,0,-1,-2,1,2],
[20,0,-4,2,0,0,0,0,2,0,4,4,-2,2,0,0,0,0,0,0,1,-1,1,-2,-7],
[24,4,0,0,-2,0,4,-1,0,0,8,0,2,3,0,0,0,-1,1,1,0,0,2,-1,6],
[24,-4,0,0,2,0,-4,-1,0,0,8,0,2,3,0,0,0,1,-1,-1,0,0,2,-1,6],
[30,-10,2,3,-1,0,2,0,-1,0,-10,-2,-1,3,4,1,0,0,-1,-1,1,0,-1,-1,3],
[30,10,2,3,1,0,-2,0,-1,0,-10,-2,-1,3,-4,-1,0,0,1,1,1,0,-1,-1,3],
[60,10,4,-3,1,-2,2,0,1,0,-4,0,-1,-3,-2,1,0,0,1,-1,0,0,2,-1,6],
[60,-10,4,-3,-1,2,-2,0,1,0,-4,0,-1,-3,2,-1,0,0,-1,1,0,0,2,-1,6],
[60,0,4,-6,0,0,0,0,-2,0,12,4,0,0,0,0,0,0,0,0,1,0,-3,0,-3],
[64,16,0,4,-2,0,0,-1,0,0,0,0,0,-2,0,0,0,1,-2,0,0,1,0,0,-8],
[64,-16,0,4,2,0,0,-1,0,0,0,0,0,-2,0,0,0,-1,2,0,0,1,0,0,-8],
[80,0,0,-4,0,0,0,0,0,0,-16,0,2,2,0,0,0,0,0,0,0,-1,2,2,-10],
[81,9,-3,0,0,-1,-3,1,0,-1,9,-3,0,0,3,0,1,-1,0,0,0,0,0,0,0],
[81,-9,-3,0,0,1,3,1,0,-1,9,-3,0,0,-3,0,-1,1,0,0,0,0,0,0,0],
[90,0,-6,0,0,0,0,0,0,2,-6,2,0,0,0,0,0,0,0,0,-1,0,-3,0,9]]

set classes_E6=wct_classes
set class_centralizer_sizes_E6=for w in classes_E6 do w.centralizer_order od
set class_sizes_E6=for w@i in classes_E6 do W_order\class_centralizer_sizes_E6[i] od
set class_orders_E6=for w in classes_E6 do w.order od


set E6_name(CharacterTable ct)=(vec->string):(vec v):string:
let dim=v[0] then
index=find(ct.characters,v) then
d=ct.degree(index) in
"phi(" + dim.to_string+","+d.to_string+")"



set character_table_E6_0() = CharacterTable:
let ncc=25
in
  ( Lie_type(E6)    {lie_type}  
  , W_order    {order (of W)}
  , ncc      {n_classes}
  , (int j) classical_class: ().null_class
  , (int j) string: "" {class_label} {fill in later}
  , (int j) WeylElt: classes_E6[j] {class_rep}
  , (int j) int: class_orders_E6[j]
  , (int j, int p) int: first(ncc,(int i): is_conjugate(classes_E6[i],classes_E6[j]^p))
  , class_centralizer_sizes_E6
  , class_sizes_E6
  , (int j): null_irrep()
  , (int i) string: "" { irreducible representation label }  {later}
  , [[int]]:[]  {sym_powers_reflection}
  ,[int]:[]     {degrees}
{  ,table_E6_atlas}
  ,mat:[[]]  {leave empty at first}
  )
set ct=character_table_E6_0()

{
set character_table_F4()=
let ct_0=character_table_F4_0() then
ct=ct_0.update_degrees then
F4_names(int i)=ct.F4_name(ct.character(i)) {function} in
ct.irreducible_label:=F4_names;
ct

{
set ct=character_table_F4()
ct:=ct.update_degrees

set F4_names(CharacterTable ct)=[string]:for i:ct.n_classes do ct.F4_name(ct.character(i)) od
set F4_names(int i)=ct.F4_names[i]
}






}